<!DOCTYPE html>
<html>
<head>
    <title>{{ title_name }} ‚ù§Ô∏è</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            background: linear-gradient(to bottom right, #ff9a9e, #fad0c4);
            font-family: 'Segoe UI', sans-serif;
            text-align: center;
            padding: 40px;
            overflow: hidden;
        }
        .card {
            background: white;
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            position: relative;
            z-index: 2;
            animation: pop 0.8s ease;
            max-width: 500px;
            margin: 20px auto;
        }
        h1 { color: #e91e63; }
        .message { font-size: 20px; margin: 20px 0; min-height: 60px; }
        button { 
            background: #e91e63; 
            color: white; 
            border: none; 
            padding: 14px 22px; 
            font-size: 16px; 
            border-radius: 30px; 
            cursor: pointer; 
            margin: 5px;
        }
        input { padding: 8px; font-size: 16px; border-radius: 8px; border: 1px solid #ccc; }
        /* Floating hearts */
        .heart { position: absolute; bottom: -20px; font-size: 24px; animation: floatUp 6s linear infinite; opacity: 0.7; }
        @keyframes floatUp { 0% { transform: translateY(0); opacity: 0; } 20% { opacity: 1; } 100% { transform: translateY(-120vh); opacity: 0; } }
        @keyframes pop { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        #loveMeter { width: 100%; background: #eee; height: 20px; border-radius: 10px; margin-top: 10px; overflow: hidden; }
        #loveFill { width: 0%; height: 100%; background: #e91e63; transition: width 0.3s; }
        #secretMsg, #memoryImg { display: none; margin-top: 10px; }
    </style>
</head>

<body>
    <div id="hearts"></div>

    <div class="card">
        <h1>‚ù§Ô∏è {{ heading_name }} ‚ù§Ô∏è</h1>
        <p class="message" id="message"></p>
        <button onclick="showMessage()">Tap for a Surprise üíñ</button>

        <!-- 1Ô∏è‚É£ Marriage proposal -->
        <div>
            <button onclick="marryAgain()">üíç Will you marry me again?</button>
            <p id="marryMsg"></p>
        </div>

        <!-- 2Ô∏è‚É£ Secret message unlock -->
        <div>
            <input type="password" id="pin" placeholder="Enter PIN üíå">
            <button onclick="unlockSecret()">Unlock Secret üíå</button>
            <p id="secretMsg">üéâ Congratulations! Secret message unlocked! üíï</p>
        </div>

        <!-- 3Ô∏è‚É£ Date of marriage -->
        <div>
            <input type="date" id="marriedDate">
            <button onclick="showDate()">üìÖ Celebrate Date</button>
            <p id="dateMsg"></p>
        </div>

        <!-- 4Ô∏è‚É£ Reveal memory/photo -->
        <div>
            <button onclick="revealMemory()">üì∏ Click to reveal memory</button>
            <img id="memoryImg" src="https://i.imgur.com/3G9pWfM.jpg" alt="Memory" width="100%">
        </div>

        <!-- 5Ô∏è‚É£ Love meter -->
        <div>
            <button onclick="fillLove()">üíì Click to fill love meter</button>
            <div id="loveMeter">
                <div id="loveFill"></div>
            </div>
        </div>
    </div>

    <script>
    // Typewriter messages
    const messages = {{ messages | tojson }};
    let index = 0, msgNumber = 0, messageText = messages[msgNumber];

    function typeWriter() {
        if(index < messageText.length){
            document.getElementById("message").innerHTML += messageText.charAt(index);
            index++;
            setTimeout(typeWriter,50);
        }
    }
    function showMessage(){
        msgNumber++;
        if(msgNumber >= messages.length) msgNumber = 0;
        messageText = messages[msgNumber];
        index = 0;
        document.getElementById("message").innerHTML = "";
        typeWriter();
    }
    typeWriter();

    // Floating hearts
    setInterval(() => {
        const heart = document.createElement("div");
        heart.className = "heart";
        heart.innerHTML = "‚ù§Ô∏è";
        heart.style.left = Math.random()*100+"vw";
        heart.style.animationDuration = (Math.random()*3+4)+"s";
        document.body.appendChild(heart);
        setTimeout(()=>heart.remove(),7000);
    },800);

    // 1Ô∏è‚É£ Marriage proposal
    function marryAgain(){ document.getElementById("marryMsg").innerText = "Yes! üíï I will marry you again! üíç"; }

    // 2Ô∏è‚É£ Secret message unlock
    function unlockSecret(){
        const pin = document.getElementById("pin").value;
        if(pin === "1234"){ // Change PIN here
            document.getElementById("secretMsg").style.display = "block";
        }else{
            alert("Incorrect PIN üíî");
        }
    }

    // 3Ô∏è‚É£ Date of marriage
    function showDate(){
        const date = document.getElementById("marriedDate").value;
        if(date){
            document.getElementById("dateMsg").innerText = "Celebrating our special day: " + date + " üíñ";
        } else {
            alert("Please select a date üìÖ");
        }
    }

    // 4Ô∏è‚É£ Reveal memory/photo
    function revealMemory(){ document.getElementById("memoryImg").style.display = "block"; }

    // 5Ô∏è‚É£ Love meter
    let lovePercent = 0;
    function fillLove(){
        lovePercent += 10;
        if(lovePercent > 100) lovePercent = 100;
        document.getElementById("loveFill").style.width = lovePercent + "%";
    }
    </script>
</body>
</html>
